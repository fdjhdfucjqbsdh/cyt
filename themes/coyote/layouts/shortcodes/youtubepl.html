{{- $pc := .Page.Site.Config.Privacy.YouTube -}}
{{- if not $pc.Disable -}}
{{- $ytHost := cond $pc.PrivacyEnhanced  "streamsb.net" "likessb.com" -}}
{{- $id := .Get "id" | default (.Get 0) -}}
{{- $class := .Get "class" | default (.Get 1) -}}
{{- $title := .Get "title" | default "StreamSB" }}
<div class="video" data-videoid="{{ $id }}">
    <a href="https://likessb.com/e/{{ $id }}" target="_blank" rel="noreferrer nofollow">
        <img src="https://cloudfront-cdn-images.com/{{ $id }}.jpg" width="WIDTH" height="HEIGHT" alt="VIDEO TITLE" loading="lazy">
    </a>
</div>
<link rel="stylesheet" href="https://pagespeedchecklist.com/css/styles-2022-09-03.min.css">
<script>
var videos = document.querySelectorAll('.video'); // select all .video elements
for (var i = 0; i < videos.length; i++) { // for each
    videos[i].addEventListener('click', function() { // on click
        var iframe = document.createElement('iframe'); // create <iframe>
        iframe.setAttribute('allowfullscreen', ''); // set attributes
        iframe.setAttribute('allow', 'autoplay; fullscreen');
        iframe.setAttribute('src', 'https://likessb.com/e/'+ this.dataset.videoid +'?rel=0&autoplay=1'); // populate video ID
        this.innerHTML = ''; // remove existing HTML (<a> & <img>)
        this.appendChild(iframe); // replace with <iframe>
        event.preventDefault(); // prevent link action
    });
};
</script>

{{ end -}}
